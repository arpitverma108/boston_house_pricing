<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boston House Price Prediction | ML API</title>
  <link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Arimo' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Hind:300' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #4361ee;
      --secondary: #3a0ca3;
      --accent: #f72585;
      --light: #f8f9fa;
      --dark: #212529;
      --success: #4cc9f0;
      --gray: #6c757d;
      --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      --gradient: linear-gradient(135deg, #4361ee 0%, #3a0ca3 100%);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Arimo', sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      color: var(--dark);
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem 1rem;
    }

    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      margin-bottom: 2.5rem;
      animation: fadeIn 1s ease;
    }

    .logo {
      font-family: 'Pacifico', cursive;
      font-size: 2.8rem;
      color: var(--secondary);
      margin-bottom: 0.5rem;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    }

    .tagline {
      font-family: 'Open Sans Condensed', sans-serif;
      font-size: 1.3rem;
      color: var(--gray);
      font-weight: 300;
      margin-bottom: 1rem;
    }

    .main-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2.5rem;
      margin-bottom: 2rem;
    }

    @media (max-width: 900px) {
      .main-content {
        grid-template-columns: 1fr;
      }
    }

    .form-section {
      background: white;
      border-radius: 15px;
      padding: 2rem;
      box-shadow: var(--shadow);
      animation: slideInLeft 0.8s ease;
    }

    .form-title {
      font-size: 1.8rem;
      margin-bottom: 1.5rem;
      color: var(--secondary);
      border-bottom: 2px solid var(--primary);
      padding-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .form-title i {
      color: var(--accent);
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    @media (max-width: 600px) {
      .form-grid {
        grid-template-columns: 1fr;
      }
    }

    .input-group {
      margin-bottom: 1rem;
      position: relative;
    }

    .input-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: bold;
      color: var(--dark);
      font-size: 0.9rem;
    }

    .input-group input {
      width: 100%;
      padding: 0.8rem 1rem;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    .input-group input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
      outline: none;
    }

    .info-section {
      background: white;
      border-radius: 15px;
      padding: 2rem;
      box-shadow: var(--shadow);
      animation: slideInRight 0.8s ease;
    }

    .info-title {
      font-size: 1.8rem;
      margin-bottom: 1.5rem;
      color: var(--secondary);
      border-bottom: 2px solid var(--primary);
      padding-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .info-title i {
      color: var(--accent);
    }

    .info-content {
      line-height: 1.8;
    }

    .info-content p {
      margin-bottom: 1rem;
    }

    .feature-list {
      list-style-type: none;
      margin-top: 1rem;
    }

    .feature-list li {
      padding: 0.5rem 0;
      border-bottom: 1px solid #f0f0f0;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .feature-list li i {
      color: var(--success);
    }

    .prediction-section {
      background: var(--gradient);
      color: white;
      border-radius: 15px;
      padding: 2rem;
      box-shadow: var(--shadow);
      text-align: center;
      margin-top: 2rem;
      animation: fadeInUp 1s ease;
    }

    .prediction-title {
      font-size: 1.8rem;
      margin-bottom: 1rem;
      font-family: 'Pacifico', cursive;
    }

    .prediction-value {
      font-size: 3rem;
      font-weight: bold;
      margin: 1rem 0;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }

    .prediction-text {
      font-size: 1.2rem;
      margin-top: 1rem;
    }

    .btn {
      background: var(--gradient);
      color: white;
      border: none;
      padding: 1rem 2rem;
      font-size: 1.1rem;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: bold;
      letter-spacing: 1px;
      margin-top: 1rem;
      box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
      display: inline-flex;
      align-items: center;
      gap: 10px;
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 7px 20px rgba(67, 97, 238, 0.4);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn i {
      font-size: 1.2rem;
    }

    footer {
      margin-top: 2rem;
      text-align: center;
      color: var(--gray);
      font-size: 0.9rem;
    }

    /* Tooltip */
    .tooltip {
      position: relative;
      display: inline-block;
      margin-left: 5px;
      cursor: help;
    }

    .tooltip .tooltiptext {
      visibility: hidden;
      width: 250px;
      background-color: var(--dark);
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 10px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -125px;
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 0.8rem;
      line-height: 1.4;
    }

    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }

    .tooltip .tooltiptext::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: var(--dark) transparent transparent transparent;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideInLeft {
      from { transform: translateX(-50px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes slideInRight {
      from { transform: translateX(50px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes fadeInUp {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    /* Range indicators */
    .range-info {
      display: flex;
      justify-content: space-between;
      font-size: 0.75rem;
      color: var(--gray);
      margin-top: 0.25rem;
    }

    /* Loading animation */
    .loading {
      display: none;
      text-align: center;
      margin: 2rem 0;
    }
    
    .spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid var(--primary);
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 2s linear infinite;
      margin: 0 auto;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1 class="logo">Boston Price Predictor</h1>
      <p class="tagline">Accurate house price predictions using machine learning</p>
    </header>

    <div class="main-content">
      <section class="form-section">
        <h2 class="form-title"><i class="fas fa-home"></i> Property Details</h2>
        
        <!-- Main Form with Flask Backend -->
        <form action="{{ url_for('predict') }}" method="post" id="prediction-form">
          <div class="form-grid">
            <div class="input-group">
              <label for="CRIM">CRIM <span class="tooltip">ℹ️
                <span class="tooltiptext">Per capita crime rate by town</span>
              </span></label>
              <input type="number" step="any" id="CRIM" name="CRIM" placeholder="0.0 - 89.0" required>
              <div class="range-info">
                <span>Low crime: 0.0</span>
                <span>High crime: 89.0</span>
              </div>
            </div>
            
            <div class="input-group">
              <label for="ZN">ZN <span class="tooltip">ℹ️
                <span class="tooltiptext">Proportion of residential land zoned for lots over 25,000 sq.ft.</span>
              </span></label>
              <input type="number" step="any" id="ZN" name="ZN" placeholder="0.0 - 100.0" required>
              <div class="range-info">
                <span>None: 0.0</span>
                <span>All: 100.0</span>
              </div>
            </div>
            
            <div class="input-group">
              <label for="INDUS">INDUS <span class="tooltip">ℹ️
                <span class="tooltiptext">Proportion of non-retail business acres per town</span>
              </span></label>
              <input type="number" step="any" id="INDUS" name="INDUS" placeholder="0.5 - 28.0" required>
              <div class="range-info">
                <span>Low: 0.5</span>
                <span>High: 28.0</span>
              </div>
            </div>
            
            <div class="input-group">
              <label for="CHAS">CHAS <span class="tooltip">ℹ️
                <span class="tooltiptext">Charles River dummy variable (= 1 if tract bounds river; 0 otherwise)</span>
              </span></label>
              <input type="number" min="0" max="1" id="CHAS" name="CHAS" placeholder="0 or 1" required>
              <div class="range-info">
                <span>Not on river: 0</span>
                <span>On river: 1</span>
              </div>
            </div>
            
            <div class="input-group">
              <label for="NOX">NOX <span class="tooltip">ℹ️
                <span class="tooltiptext">Nitric oxides concentration (parts per 10 million)</span>
              </span></label>
              <input type="number" step="any" id="NOX" name="NOX" placeholder="0.38 - 0.87" required>
              <div class="range-info">
                <span>Clean: 0.38</span>
                <span>Polluted: 0.87</span>
              </div>
            </div>
            
            <div class="input-group">
              <label for="RM">RM <span class="tooltip">ℹ️
                <span class="tooltiptext">Average number of rooms per dwelling</span>
              </span></label>
              <input type="number" step="any" id="RM" name="RM" placeholder="3.6 - 8.8" required>
              <div class="range-info">
                <span>Small: 3.6</span>
                <span>Large: 8.8</span>
              </div>
            </div>
            
            <div class="input-group">
              <label for="AGE">AGE <span class="tooltip">ℹ️
                <span class="tooltiptext">Proportion of owner-occupied units built prior to 1940</span>
              </span></label>
              <input type="number" step="any" id="AGE" name="AGE" placeholder="2.9 - 100.0" required>
              <div class="range-info">
                <span>New: 2.9</span>
                <span>Old: 100.0</span>
              </div>
            </div>
            
            <div class="input-group">
              <label for="DIS">DIS <span class="tooltip">ℹ️
                <span class="tooltiptext">Weighted distances to five Boston employment centres</span>
              </span></label>
              <input type="number" step="any" id="DIS" name="DIS" placeholder="1.1 - 12.1" required>
              <div class="range-info">
                <span>Close: 1.1</span>
                <span>Far: 12.1</span>
              </div>
            </div>
            
            <div class="input-group">
              <label for="RAD">RAD <span class="tooltip">ℹ️
                <span class="tooltiptext">Index of accessibility to radial highways</span>
              </span></label>
              <input type="number" id="RAD" name="RAD" placeholder="1 - 24" required>
              <div class="range-info">
                <span>Low: 1</span>
                <span>High: 24</span>
              </div>
            </div>
            
            <div class="input-group">
              <label for="TAX">TAX <span class="tooltip">ℹ️
                <span class="tooltiptext">Full-value property-tax rate per $10,000</span>
              </span></label>
              <input type="number" id="TAX" name="TAX" placeholder="187 - 711" required>
              <div class="range-info">
                <span>Low: 187</span>
                <span>High: 711</span>
              </div>
            </div>
            
            <div class="input-group">
              <label for="PTRATIO">PTRATIO <span class="tooltip">ℹ️
                <span class="tooltiptext">Pupil-teacher ratio by town</span>
              </span></label>
              <input type="number" step="any" id="PTRATIO" name="PTRATIO" placeholder="12.6 - 22.0" required>
              <div class="range-info">
                <span>Good: 12.6</span>
                <span>Poor: 22.0</span>
              </div>
            </div>
            
            <div class="input-group">
              <label for="B">B <span class="tooltip">ℹ️
                <span class="tooltiptext">1000(Bk - 0.63)^2 where Bk is the proportion of blacks by town</span>
              </span></label>
              <input type="number" step="any" id="B" name="B" placeholder="0.3 - 397.0" required>
              <div class="range-info">
                <span>Low: 0.3</span>
                <span>High: 397.0</span>
              </div>
            </div>
            
            <div class="input-group">
              <label for="LSTAT">LSTAT <span class="tooltip">ℹ️
                <span class="tooltiptext">% lower status of the population</span>
              </span></label>
              <input type="number" step="any" id="LSTAT" name="LSTAT" placeholder="1.7 - 38.0" required>
              <div class="range-info">
                <span>Low: 1.7</span>
                <span>High: 38.0</span>
              </div>
            </div>
          </div>
          
          <div style="display: flex; gap: 10px; margin-top: 1rem;">
            <button type="button" class="btn" id="sample-data-btn"><i class="fas fa-vial"></i> Fill Sample Data</button>
            <button type="submit" class="btn" id="predict-btn"><i class="fas fa-chart-line"></i> Predict House Price</button>
          </div>
        </form>

        <!-- Loading indicator -->
        <div class="loading" id="loading-indicator">
          <div class="spinner"></div>
          <p>Processing your prediction...</p>
        </div>
      </section>

      <section class="info-section">
        <h2 class="info-title"><i class="fas fa-info-circle"></i> About This Model</h2>
        <div class="info-content">
          <p>This machine learning model predicts median house prices in Boston based on various demographic and geographic factors.</p>
          <p>The model was trained on the famous Boston Housing Dataset, which contains information collected by the U.S Census Service concerning housing in the area of Boston Mass.</p>
          
          <h3 style="margin-top: 1.5rem; color: var(--secondary);">Key Features Used:</h3>
<ul class="feature-list">
  <li><i class="fas fa-check-circle"></i> <strong>CRIM:</strong> Per capita crime rate by town</li>
  <li><i class="fas fa-check-circle"></i> <strong>ZN:</strong> Proportion of residential land zoned for lots over 25,000 sq.ft.</li>
  <li><i class="fas fa-check-circle"></i> <strong>INDUS:</strong> Proportion of non-retail business acres per town</li>
  <li><i class="fas fa-check-circle"></i> <strong>CHAS:</strong> Charles River dummy variable (= 1 if tract bounds river; 0 otherwise)</li>
  <li><i class="fas fa-check-circle"></i> <strong>NOX:</strong> Nitric oxides concentration (parts per 10 million)</li>
  <li><i class="fas fa-check-circle"></i> <strong>RM:</strong> Average number of rooms per dwelling</li>
  <li><i class="fas fa-check-circle"></i> <strong>AGE:</strong> Proportion of owner-occupied units built prior to 1940</li>
  <li><i class="fas fa-check-circle"></i> <strong>DIS:</strong> Weighted distances to five Boston employment centres</li>
  <li><i class="fas fa-check-circle"></i> <strong>RAD:</strong> Index of accessibility to radial highways</li>
  <li><i class="fas fa-check-circle"></i> <strong>TAX:</strong> Full-value property-tax rate per $10,000</li>
  <li><i class="fas fa-check-circle"></i> <strong>PTRATIO:</strong> Pupil-teacher ratio by town</li>
  <li><i class="fas fa-check-circle"></i> <strong>B:</strong> 1000(Bk - 0.63)² where Bk is the proportion of blacks by town</li>
  <li><i class="fas fa-check-circle"></i> <strong>LSTAT:</strong> % lower status of the population</li>
  <li><i class="fas fa-check-circle"></i> <strong>MEDV:</strong> Median value of owner-occupied homes in $1000's</li>
</ul>

          
          <p style="margin-top: 1.5rem;">To get a prediction, fill in all the fields with appropriate values and click the "Predict House Price" button.</p>
        </div>
      </section>
    </div>

    <!-- Prediction Result Section -->
    {% if prediction_text %}
    <section class="prediction-section" id="prediction-result">
      <h2 class="prediction-title">Predicted House Price</h2>
      <div class="prediction-value">${{ prediction_text }}</div>
      <p class="prediction-text">Based on the property details you provided</p>
      <button class="btn" onclick="resetForm()"><i class="fas fa-redo"></i> Make Another Prediction</button>
    </section>

    <script>
      // Scroll to prediction result when page loads
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('prediction-result').scrollIntoView({ behavior: 'smooth' });
      });
    </script>
    {% endif %}

    <footer>
      <p>Boston House Price Prediction &copy; 2023 | Machine Learning API</p>
    </footer>
  </div>

  <script>
    // Function to fill form with sample data
    document.getElementById('sample-data-btn').addEventListener('click', function() {
      const sampleData = {
        'CRIM': '0.00632',
        'ZN': '18.0',
        'INDUS': '2.31',
        'CHAS': '0',
        'NOX': '0.538',
        'RM': '6.575',
        'AGE': '65.2',
        'DIS': '4.09',
        'RAD': '1',
        'TAX': '296',
        'PTRATIO': '15.3',
        'B': '396.9',
        'LSTAT': '4.98'
      };
      
      for (const [key, value] of Object.entries(sampleData)) {
        document.getElementById(key).value = value;
      }
      
      // Show a quick confirmation
      const btn = this;
      const originalText = btn.innerHTML;
      btn.innerHTML = '<i class="fas fa-check"></i> Data Filled!';
      setTimeout(() => {
        btn.innerHTML = originalText;
      }, 1500);
    });

    // Show loading indicator when form is submitted
    document.getElementById('prediction-form').addEventListener('submit', function() {
      document.getElementById('loading-indicator').style.display = 'block';
    });

    // Function to reset the form (used by the "Make Another Prediction" button)
    function resetForm() {
      document.getElementById('prediction-form').reset();
      // Redirect back to the form page to clear the prediction result
      window.location.href = "{{ url_for('home') }}";
    }
  </script>
</body>
</html>